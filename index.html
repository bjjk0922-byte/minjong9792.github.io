<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <!-- Viewport 설정 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>MinJong's Gallery - Creative Portfolio</title>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin=""></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin=""></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Outfit:wght@300;500;700&family=Pretendard:wght@100..900&display=swap" rel="stylesheet">
    
    <!-- Tailwind 설정 확장 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    screens: { 'xs': '480px' },
                    animation: { 
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'slide-up': 'slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: {
                            '0%': { transform: 'translateY(40px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #050505;
            color: #e5e5e5;
            overflow-x: hidden;
            letter-spacing: -0.02em;
            -webkit-font-smoothing: antialiased;
            padding-bottom: env(safe-area-inset-bottom);
        }
        .font-luxury { font-family: 'Montserrat', sans-serif; font-weight: 900; }
        .font-trendy { font-family: 'Outfit', sans-serif; }
        .font-gothic { font-family: 'Pretendard', sans-serif; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Safari Visibility Fix: CSS Only Animation */
        .animate-enter {
            animation: slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        .glass-panel { background: rgba(20, 20, 20, 0.85); -webkit-backdrop-filter: blur(24px); backdrop-filter: blur(24px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .tab-indicator { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        * { -webkit-tap-highlight-color: transparent; }
        .no-select { -webkit-user-select: none; user-select: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        // --- Data Marker ---
        const INITIAL_DATA = /*__DATA_START__*/[
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1QhSl_0OgUZfuHR4VtGZ1eMN4kAiQUcBb/view?usp=drive_link",
    "referenceUrl": "",
    "title": "아이틱스_기획영상_아이TV",
    "description": "기획 : 김호전, 김민종\n촬영 : 김민종\n작가 : 김호전, 김민종\n현장 디렉 : 김호전\n편집 : 김민종\n사용장비 : 아이폰 14pro, 아이폰 11pro, dji mic2, 삼각대, 노트북(모니터에 연결하여 사용)\n편집툴 : 프리미어 프로, 에프터 이펙트\n촬영 소요시간 : 약 3시간\n편집 소요시간 : 약 10시간",
    "date": "2026. 2. 14.",
    "id": 1770998520057,
    "thumbnail": "https://drive.google.com/thumbnail?id=1QhSl_0OgUZfuHR4VtGZ1eMN4kAiQUcBb&sz=w1920",
    "subCategory": "기획영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1rWj0zbpTMuPMgfy6rvwNBOYbpXc-zO-E/view?usp=drive_link",
    "referenceUrl": "",
    "title": "아이틱스_기획영상_칠판강사",
    "description": "빠다너스 패러디\n이커머스핏으로 제작\n기획 : 김호전, 김민종\n촬영 : 김민종, 예찬\n작가 : 김호전\n현장 디렉 : 김호전\n편집 : 김민종\n사용장비 : 아이폰 14pro, 아이폰 11pro, dji mic2, 삼각대, 노트북(모니터에 연결하여 사용)\n편집툴 : 프리미어 프로\n촬영 소요시간 : 약 2시간\n편집 소요시간 : 약 1시간",
    "date": "2026. 2. 14.",
    "id": 1770998490001,
    "thumbnail": "https://drive.google.com/thumbnail?id=1rWj0zbpTMuPMgfy6rvwNBOYbpXc-zO-E&sz=w1920",
    "subCategory": "기획영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1GioSiLqpUz0J5evDPAbANCfh8hAynSOE/view?usp=drive_link",
    "referenceUrl": "",
    "title": "아이틱스_기획영상_칠판강사_이커머스핏",
    "description": "이커머스핏으로 제작\n기획 : 김호전, 김민종\n촬영 : 김민종, 예찬\n작가 : 김호전\n현장 디렉 : 김호전\n편집 : 김민종\n사용장비 : 아이폰 14pro, 아이폰 11pro, dji mic2, 삼각대, 노트북(모니터에 연결하여 사용)\n편집툴 : 프리미어 프로\n촬영 소요시간 : 약 2시간\n편집 소요시간 : 약 3시간 30분",
    "date": "2026. 2. 14.",
    "id": 1770998463923,
    "thumbnail": "https://drive.google.com/thumbnail?id=1GioSiLqpUz0J5evDPAbANCfh8hAynSOE&sz=w1920",
    "subCategory": "기획영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1ffoxVFeinV7nT7o9LoEIylFsRW1ZPQOb/view?usp=drive_link",
    "referenceUrl": "",
    "title": "아이틱스_기획영상_위기탈출넘버원",
    "description": "위기탈출넘버원 패러디 영상\n기획 : 김민종\n작가 : 김호전\n촬영 : 김민종\n현장 디렉 : 김호전\n사용장비 : 아이폰 14pro, 아이폰 11pro, Gopro 12, dji mic2, 아이패드(프롬프트)\n편집 : 김민종\n편집툴 : 프리미어프로, 에프터 이펙트\n촬영 소요시간 : 약 2시간\n편집 소요시간 : 약 4시간",
    "date": "2026. 2. 14.",
    "id": 1770998419353,
    "thumbnail": "https://drive.google.com/thumbnail?id=1ffoxVFeinV7nT7o9LoEIylFsRW1ZPQOb&sz=w1920",
    "subCategory": "기획영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1uFsA5RUuWcVkT5cUpTLecZ9JxrbrpTU2/view?usp=drive_link",
    "referenceUrl": "",
    "title": "아이틱스_기획영상_김여사",
    "description": "기획 : 김호전, 김민종\n작가 : 김호전\n촬영 : 김민종\n현장 디렉 : 김호전\n편집 : 김민종\n사용장비 : 아이폰 14pro, dji mic2, 아이패드(프롬프트)\n편집툴 : 프리미어 프로 : 에프터이펙트\n촬영 소요시간 : 약 1시간 30분\n편집 소요시간 : 약 1시간",
    "date": "2026. 2. 14.",
    "id": 1770998443569,
    "thumbnail": "https://drive.google.com/thumbnail?id=1uFsA5RUuWcVkT5cUpTLecZ9JxrbrpTU2&sz=w1920",
    "subCategory": "기획영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1lbQq2_kT8edJlAwMvrQ-Q-ugmwAZJMrs/view?usp=drive_link",
    "referenceUrl": "",
    "title": "아이틱스_정보성 영상",
    "description": "기획 : 김민종\n원고 작성 : 김민종\n편집 : 김민종\nAI툴 : Google AI Studio(TTS)\n편집툴 : 프리미어 프로\n제작 소요시간 : 약 1시간 40분",
    "date": "2026. 2. 14.",
    "id": 1770998564405,
    "thumbnail": "https://drive.google.com/thumbnail?id=1lbQq2_kT8edJlAwMvrQ-Q-ugmwAZJMrs&sz=w1920",
    "subCategory": "기타"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1g1ExwvQz5i26V7XQcji70-1H9UME4_J9/view?usp=drive_link",
    "referenceUrl": "",
    "title": "아이틱스_AI_영상 정보성",
    "description": "기획 : 김민종\n원고 작성 : 김민종\n편집 : 김민종\nAI툴 : ImageFX, Veo3\n편집툴 : 프리미어 프로\n제작 소요시간 : 약 2시간 15분",
    "date": "2026. 2. 14.",
    "id": 1770998582281,
    "thumbnail": "https://drive.google.com/thumbnail?id=1g1ExwvQz5i26V7XQcji70-1H9UME4_J9&sz=w1920",
    "subCategory": "AI영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/10I8aOtgG1o1Hsz5k4mz7AULD9p0BC9Kx/view?usp=drive_link",
    "referenceUrl": "",
    "title": "아이틱스_AI애니메이션",
    "description": "기획 : 김민종\n원고 작성 : 김민종\n편집 : 김민종\nAI툴 : Gemini, Veo3\n편집툴 : 프리미어 프로\n제작 소요시간 : 약 2시간 50분",
    "date": "2026. 2. 14.",
    "id": 1770998620199,
    "thumbnail": "https://drive.google.com/thumbnail?id=10I8aOtgG1o1Hsz5k4mz7AULD9p0BC9Kx&sz=w1920",
    "subCategory": "AI영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1gRKUpuaST95XPoqiV-AKWHFHzRuKW9wB/view?usp=sharing",
    "referenceUrl": "",
    "title": "아이틱스_칠판 애니메이션_AI활용",
    "description": "기획 : 김민종\n원고 작성 : 김민종\n편집 : 김민종\nAI툴 : Gemini, Veo3\n편집툴 : 프리미어 프로\n제작 소요시간 : 약 3시간",
    "date": "2026. 2. 14.",
    "id": 1770998660658,
    "thumbnail": "https://drive.google.com/thumbnail?id=1gRKUpuaST95XPoqiV-AKWHFHzRuKW9wB&sz=w1920",
    "subCategory": "AI영상"
  },
  {
    "type": "image",
    "url": "https://drive.google.com/thumbnail?id=1UTo0ZyjuUpyf4UxBRYTrffXqtvSRsbFJ&sz=w1920",
    "referenceUrl": "",
    "title": "아이틱스 상세페이지 GIF",
    "description": "AI툴 : Gemini, Veo3\n편집툴 : 프리미어 프로",
    "date": "2026. 2. 14.",
    "id": 1770998012918,
    "thumbnail": "https://drive.google.com/thumbnail?id=1UTo0ZyjuUpyf4UxBRYTrffXqtvSRsbFJ&sz=w1920",
    "subCategory": "상세페이지"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1CQoNMW09mQp1gVsClYTvFgxot-ntmC-_/view?usp=drive_link",
    "referenceUrl": "",
    "title": "유디트_인터뷰_기획영상",
    "description": "기획 : 김민종, 예찬, 박종찬\n촬영 : 김민종, 예찬\n작가 : 김다은\n현장 디렉 : 김민종\n편집 : 예찬\n총괄 : 김민종\n사용 장비 : dji mic2, 니콘 Zfc, 삼각대, 아이패드(프롬프트)\n촬영 소요시간 : 약 1시간\n편집 소요시간 : 약 55분",
    "date": "2026. 2. 14.",
    "id": 1771002383585,
    "thumbnail": "https://drive.google.com/thumbnail?id=1CQoNMW09mQp1gVsClYTvFgxot-ntmC-_&sz=w1920",
    "subCategory": "기획영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1AlxSoGkh7k3nbVykCcESQJKFUZhRQvoJ/view?usp=drive_link",
    "referenceUrl": "",
    "title": "유디트_팟캐스트_기획영상",
    "description": "기획 : 김민종, 예찬, 박종찬\n촬영 : 김민종, 예찬, 박종찬\n작가 : 김다은\n현장 디렉 : 김민종\n편집 : 예찬\n총괄 : 김민종\n사용 장비 : 현장 스튜디오 마이크(녹음), 소니 A7m4, 삼각대, 아이패드(프롬프트)\n촬영 소요시간 : 약 1시간 20분\n편집 소요시간 : 약 2시간",
    "date": "2026. 2. 14.",
    "id": 1770998363274,
    "thumbnail": "https://drive.google.com/thumbnail?id=1AlxSoGkh7k3nbVykCcESQJKFUZhRQvoJ&sz=w1920",
    "subCategory": "기획영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1DjCXrGZ4pib7KHRf_EBqCWZidzDQrtbg/view?usp=drive_link",
    "referenceUrl": "",
    "title": "유디트_팟캐스트_기획영상_배우 애드리브",
    "description": "기획 : 김민종, 예찬, 박종찬\n촬영 : 김민종, 예찬, 박종찬\n작가 : 김다은\n현장 디렉 : 김민종\n편집 : 예찬\n총괄 : 김민종\n사용 장비 : 현장 스튜디오 마이크(녹음), 소니 A7m4, 삼각대, 아이패드(프롬프트)\n촬영 소요시간 : 약 1시간 20분\n편집 소요시간 : 약 2시간",
    "date": "2026. 2. 14.",
    "id": 1771002192232,
    "thumbnail": "https://drive.google.com/thumbnail?id=1DjCXrGZ4pib7KHRf_EBqCWZidzDQrtbg&sz=w1920",
    "subCategory": "기획영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1V5jcmcr2-Ws08dCMPRjv2CSHS5ZAKR5k/view?usp=drive_link",
    "referenceUrl": "",
    "title": "유디트_AI영상_외국인 전문가",
    "description": "기획 : 김민종\n원고 작성 : 김민종\n편집 : 김민종\nAI툴 : TopView Ai, Gemini, Veo3\n편집툴 : 프리미어 프로\n제작 소요시간 : 약 3시간 25분",
    "date": "2026. 2. 14.",
    "id": 1770998601914,
    "thumbnail": "https://drive.google.com/thumbnail?id=1V5jcmcr2-Ws08dCMPRjv2CSHS5ZAKR5k&sz=w1920",
    "subCategory": "AI영상"
  },
  {
    "type": "image",
    "url": "https://drive.google.com/thumbnail?id=1PDmI6Lx5ozJKO_qvwwKWuW1t2sLLclmW&sz=w1920",
    "referenceUrl": "https://drive.google.com/thumbnail?id=1kyFgm9mf4eHbQMwmB6DGrPArnq_geq3P&sz=w1920",
    "title": "유디트 상세페이지 GIF",
    "description": "AI툴 : Gemini, Veo3\n편집툴 : 프리미어 프로",
    "date": "2026. 2. 14.",
    "id": 1770998050752,
    "thumbnail": "https://drive.google.com/thumbnail?id=1PDmI6Lx5ozJKO_qvwwKWuW1t2sLLclmW&sz=w1920",
    "subCategory": "상세페이지"
  },
  {
    "type": "image",
    "url": "https://drive.google.com/thumbnail?id=1hcTp8VXxz_6P-6I42_jyw-wFa4Vb6URq&sz=w1920",
    "referenceUrl": "",
    "title": "유디트 상세페이지 GIF",
    "description": "AI툴 : Gemini, Veo3\n편집툴 : 프리미어 프로",
    "date": "2026. 2. 14.",
    "id": 1770998186006,
    "thumbnail": "https://drive.google.com/thumbnail?id=1hcTp8VXxz_6P-6I42_jyw-wFa4Vb6URq&sz=w1920",
    "subCategory": "상세페이지"
  },
  {
    "type": "image",
    "url": "https://drive.google.com/thumbnail?id=1E6ks953TRRpNY1-jyhBuUVfjKDE-vP4-&sz=w1920",
    "referenceUrl": "",
    "title": "유디트 상세페이지 GIF_2",
    "description": "AI툴 : Gemini, Veo3\n편집툴 : 프리미어 프로",
    "date": "2026. 2. 14.",
    "id": 1770998265876,
    "thumbnail": "https://drive.google.com/thumbnail?id=1E6ks953TRRpNY1-jyhBuUVfjKDE-vP4-&sz=w1920",
    "subCategory": "상세페이지"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1yRZ6lNSoe3aNhO6DZXN5H01OtiDOvEgx/view?usp=drive_link",
    "referenceUrl": "",
    "title": "마그네핏_팟캐스트_기획영상",
    "description": "기획 : 김민종, 예찬, 박종찬\n촬영 : 김민종, 예찬, 박종찬\n작가 : 김다은\n현장 디렉 : 김민종\n편집 : 예찬\n총괄 : 김민종\n사용 장비 : 현장 스튜디오 마이크(녹음), 소니 A7m4, 삼각대, 아이패드(프롬프트)\n촬영 소요시간 : 약 1시간 20분\n편집 소요시간 : 약 2시간",
    "date": "2026. 2. 14.",
    "id": 1771002273575,
    "thumbnail": "https://drive.google.com/thumbnail?id=1yRZ6lNSoe3aNhO6DZXN5H01OtiDOvEgx&sz=w1920",
    "subCategory": "기획영상"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1va7v9sM-kL_4TEU8ht1qM3LZyoFiuI6E/view?usp=sharing",
    "referenceUrl": "",
    "title": "허밍테라피_AI영상_뉴스형_기본",
    "description": "기획 : 김민종\n편집 : 김민종\nAI툴 : Google AI Studio(나노바나나), Veo3\n편집툴 : 프리미어 프로\n제작 소요시간 : 약 3시간",
    "date": "2026. 2. 14.",
    "id": 1771001985760,
    "thumbnail": "https://drive.google.com/thumbnail?id=1va7v9sM-kL_4TEU8ht1qM3LZyoFiuI6E&sz=w1920",
    "subCategory": "기타"
  },
  {
    "type": "video",
    "url": "https://drive.google.com/file/d/1XiTAYglQX3jmAw4QcF0_r_Zx-F2lWRTi/view?usp=drive_link",
    "referenceUrl": "",
    "title": "라셀턴_AI 영상_뉴스형_자료화면",
    "description": "기획 : 김민종\n편집 : 김민종\nAI툴 : Google AI Studio(나노바나나), Veo3\n편집툴 : 프리미어 프로\n제작 소요시간 : 약 2시간 50분",
    "date": "2026. 2. 14.",
    "id": 1770998393789,
    "thumbnail": "https://drive.google.com/thumbnail?id=1XiTAYglQX3jmAw4QcF0_r_Zx-F2lWRTi&sz=w1920",
    "subCategory": "기타"
  },
  {
    "type": "image",
    "url": "https://drive.google.com/thumbnail?id=10dbQo0uQhpZ2Y_t2ce3oTh8CH72K6HlF&sz=w1920",
    "referenceUrl": "",
    "title": "미스블랙 상세페이지 GIF",
    "description": "AI툴 : Gemini, Veo3\n편집툴 : 프리미어 프로",
    "date": "2026. 2. 14.",
    "id": 1770998299884,
    "thumbnail": "https://drive.google.com/thumbnail?id=10dbQo0uQhpZ2Y_t2ce3oTh8CH72K6HlF&sz=w1920",
    "subCategory": "상세페이지"
  },
  {
    "type": "image",
    "url": "https://drive.google.com/thumbnail?id=1jl9AIsjUhCxJgErBPpgYl6F6YlQel9Dd&sz=w1920",
    "referenceUrl": "",
    "title": "미스블랙 상세페이지 GIF_2",
    "description": "AI툴 : Gemini, Veo3\n편집툴 : 프리미어 프로",
    "date": "2026. 2. 14.",
    "id": 1770998313183,
    "thumbnail": "https://drive.google.com/thumbnail?id=1jl9AIsjUhCxJgErBPpgYl6F6YlQel9Dd&sz=w1920",
    "subCategory": "상세페이지"
  },
  {
    "type": "image",
    "url": "https://drive.google.com/thumbnail?id=1CZK3WLwMzIq1amcSkHkKywPQ-tCyPd8r&sz=w1920",
    "referenceUrl": "",
    "title": "미스블랙 상세페이지 GIF_3",
    "description": "AI툴 : Gemini, Veo3\n편집툴 : 프리미어 프로",
    "date": "2026. 2. 14.",
    "id": 1770998330995,
    "thumbnail": "https://drive.google.com/thumbnail?id=1CZK3WLwMzIq1amcSkHkKywPQ-tCyPd8r&sz=w1920",
    "subCategory": "상세페이지"
  },
  {
    "id": 2,
    "type": "image",
    "url": "https://drive.google.com/thumbnail?id=1koBEdt85Rj9UA_jz_t1yqXOJG5SWpziR&sz=w1920",
    "thumbnail": "https://drive.google.com/thumbnail?id=1koBEdt85Rj9UA_jz_t1yqXOJG5SWpziR&sz=w1920",
    "title": "임플리스 상세페이지 GIF",
    "description": "AI툴 : Gemini, Veo3\n제작툴 : 프리미어 프로",
    "date": "2023.11.05",
    "referenceUrl": "",
    "subCategory": "상세페이지"
  }
]/*__DATA_END__*/;

        // --- Categories Definition ---
        const SUB_CATEGORIES = {
            video: ['전체보기', '기획영상', '편집영상', 'AI영상', '기타'],
            image: ['전체보기', '상세페이지', '썸네일', 'SNS콘텐츠', '기타']
        };

        // --- Icons ---
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Lock = (props) => <IconBase {...props}><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></IconBase>;
        const Plus = (props) => <IconBase {...props}><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></IconBase>;
        const Trash2 = (props) => <IconBase {...props}><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></IconBase>;
        const XIcon = (props) => <IconBase {...props}><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></IconBase>;
        const Play = (props) => <IconBase {...props}><polygon points="5 3 19 12 5 21 5 3"></polygon></IconBase>;
        const Save = (props) => <IconBase {...props}><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></IconBase>;
        const Loader = (props) => <IconBase {...props} className={`animate-spin ${props.className || ''}`}><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></IconBase>;
        const ExternalLink = (props) => <IconBase {...props}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></IconBase>;
        const Edit2 = (props) => <IconBase {...props}><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></IconBase>;
        const ArrowUp = (props) => <IconBase {...props}><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></IconBase>;
        const ArrowDown = (props) => <IconBase {...props}><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></IconBase>;
        const GripVertical = (props) => <IconBase {...props}><circle cx="9" cy="12" r="1"/><circle cx="9" cy="5" r="1"/><circle cx="9" cy="19" r="1"/><circle cx="15" cy="12" r="1"/><circle cx="15" cy="5" r="1"/><circle cx="15" cy="19" r="1"/></IconBase>;
        const ChevronLeft = (props) => <IconBase {...props}><polyline points="15 18 9 12 15 6"></polyline></IconBase>;
        const ChevronRight = (props) => <IconBase {...props}><polyline points="9 18 15 12 9 6"></polyline></IconBase>;
        const Maximize = (props) => <IconBase {...props}><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></IconBase>;
        const LogOut = (props) => <IconBase {...props}><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></IconBase>;
        const UploadCloud = (props) => <IconBase {...props}><polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline></IconBase>;

        // --- Helpers ---
        const getYouTubeId = (url) => {
            if (!url) return null;
            const regExp = /^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/|shorts\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/;
            const match = url.trim().match(regExp);
            return (match && match[1].length === 11) ? match[1] : null;
        };

        const getGoogleDriveEmbedUrl = (url) => {
            if (!url || !url.includes('drive.google.com')) return null;
            let id = null;
            const pathMatch = url.match(/\/d\/(.*?)(?:\/|$)/);
            if (pathMatch && pathMatch[1]) id = pathMatch[1];
            else {
                const paramMatch = url.match(/[?&]id=([^&]+)/);
                if (paramMatch && paramMatch[1]) id = paramMatch[1];
            }
            if (id) return `https://drive.google.com/file/d/${id}/preview`;
            return null;
        };

        const convertGoogleDriveLink = (url) => {
            if (!url) return '';
            if (!url.includes('drive.google.com')) return url;
            let id = null;
            const pathMatch = url.match(/\/d\/(.*?)(?:\/|$)/);
            if (pathMatch && pathMatch[1]) id = pathMatch[1];
            else {
                const paramMatch = url.match(/[?&]id=([^&]+)/);
                if (paramMatch && paramMatch[1]) id = paramMatch[1];
            }
            if (id) return `https://drive.google.com/thumbnail?id=${id}&sz=w1920`;
            return url;
        };

        // --- Components ---
        const Hero = () => {
            const [offset, setOffset] = useState(0);
            useEffect(() => {
                const handleScroll = () => {
                     requestAnimationFrame(() => setOffset(window.scrollY));
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            return (
                <div className="relative h-[65vh] md:h-[75vh] w-full overflow-hidden flex items-center justify-center no-select">
                    <div className="absolute inset-0 z-0" style={{ backgroundImage: 'url("https://images.unsplash.com/photo-1527011046414-4781f1f94f8c?q=80&w=2400&auto=format&fit=crop")', backgroundSize: 'cover', backgroundPosition: 'center', transform: `translateY(${offset * 0.5}px) scale(${1 + offset * 0.0005})` }}>
                        <div className="absolute inset-0 bg-black/30" />
                    </div>
                    <div className="relative z-10 text-center px-4 transition-opacity duration-500" style={{ opacity: Math.max(0, 1 - offset / 400) }}>
                        <p className="text-amber-400 tracking-[0.4em] text-xs md:text-sm mb-6 uppercase font-black font-trendy drop-shadow-md">Video & Creative Director</p>
                        <h1 className="text-5xl md:text-7xl lg:text-9xl text-white font-luxury italic mb-8 tracking-tighter drop-shadow-xl break-keep">MinJong's Gallery</h1>
                        <div className="w-16 h-[2px] bg-amber-500 mx-auto mb-8 shadow-lg"></div>
                        <p className="text-white max-w-2xl mx-auto font-light text-lg md:text-xl leading-relaxed px-4 font-trendy italic opacity-100 drop-shadow-lg break-keep">
                            "A creator who challenges the new and turns question marks into exclamation marks."
                        </p>
                    </div>
                </div>
            );
        };

        const Modal = ({ item, onClose }) => {
            if (!item) return null;
            const youtubeId = item.type === 'video' ? getYouTubeId(item.url) : null;
            const driveEmbedUrl = item.type === 'video' ? getGoogleDriveEmbedUrl(item.url) : null;

            useEffect(() => {
                document.body.style.overflow = 'hidden';
                return () => { document.body.style.overflow = 'unset'; }
            }, []);

            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center p-0 md:p-4">
                    <div className="absolute inset-0 bg-black/95 backdrop-blur-md transition-opacity duration-300" onClick={onClose}></div>
                    <div className="relative z-[70] w-full h-full md:h-[85vh] md:max-w-7xl bg-[#0a0a0a] border-0 md:border border-white/10 shadow-2xl overflow-hidden rounded-none md:rounded-sm animate-in fade-in zoom-in duration-300 flex flex-col md:flex-row">
                        <button onClick={onClose} className="absolute top-safe right-4 md:top-4 md:right-4 z-50 text-white/70 hover:text-white transition-colors bg-black/60 backdrop-blur-sm rounded-full p-3 md:p-2 hover:bg-black/80 shadow-lg mt-2 md:mt-0">
                            <XIcon size={24} />
                        </button>
                        <div className="bg-black flex items-center justify-center h-[40vh] md:h-full md:w-2/3 relative group border-b md:border-b-0 md:border-r border-white/5">
                            {item.type === 'video' ? (
                                youtubeId ? (
                                    <iframe className="w-full h-full object-cover" src={`https://www.youtube.com/embed/${youtubeId}?autoplay=1&mute=1&controls=1&rel=0&playsinline=1&modestbranding=1`} title={item.title} frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowFullScreen></iframe>
                                ) : driveEmbedUrl ? (
                                    <iframe className="w-full h-full" src={driveEmbedUrl} title={item.title} frameBorder="0" allow="autoplay; fullscreen" allowFullScreen></iframe>
                                ) : (
                                    <div className="relative w-full h-full">
                                        <img src={item.thumbnail || item.url} alt={item.title} className="w-full h-full object-contain" />
                                        <div className="absolute inset-0 flex items-center justify-center bg-black/40">
                                            <a href={item.url} target="_blank" rel="noreferrer" className="flex items-center gap-2 bg-white/10 backdrop-blur-md border border-white/20 px-6 py-3 rounded-full hover:bg-white/20 transition-all hover:scale-105 active:scale-95"><Play size={20} className="fill-white text-white"/><span className="text-white text-sm font-black font-gothic">영상 원본 보기 (새창)</span></a>
                                        </div>
                                    </div>
                                )
                            ) : (<img src={item.url} alt={item.title} className="w-full h-full object-contain" />)}
                        </div>
                        <div className="md:w-1/3 flex flex-col bg-[#0a0a0a] h-full overflow-y-auto hide-scrollbar pb-safe">
                            <div className="p-6 md:p-10 flex flex-col h-full">
                                <div className="flex gap-2 mb-2">
                                     <span className="text-amber-500 text-[10px] font-gothic font-bold tracking-widest uppercase border border-amber-500/30 px-2 py-1">{item.subCategory || (item.type === 'video' ? 'Video' : 'Image')}</span>
                                </div>
                                <h2 className="text-2xl md:text-4xl text-white font-gothic font-bold mb-4 md:mb-6 leading-tight break-keep">{item.title}</h2>
                                <div className="w-12 h-[2px] bg-amber-500 mb-6"></div>
                                <div className="flex-grow">
                                    <p className="text-gray-300 leading-relaxed font-gothic font-semibold whitespace-pre-line mb-8 text-sm md:text-base">{item.description}</p>
                                </div>
                                <div className="mt-8 pt-6 border-t border-white/5 flex justify-between items-center text-xs text-gray-500 mb-safe">
                                    <span className="font-gothic font-bold uppercase tracking-widest text-amber-500/60">MinJong's Gallery</span>
                                    {item.type === 'video' && (<a href={item.url} target="_blank" rel="noreferrer" className="flex items-center gap-2 hover:text-amber-400 transition-colors font-bold font-gothic p-2">원본 링크 열기 <ExternalLink size={14}/></a>)}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const ReorderModal = ({ isOpen, onClose, allItems, onReorder, currentCategory, onSave }) => {
            const [filteredItems, setFilteredItems] = useState([]);
            const [draggedItem, setDraggedItem] = useState(null);
            useEffect(() => {
                if (isOpen) {
                    const filtered = currentCategory === 'all' ? allItems : allItems.filter(item => item.type === currentCategory);
                    setFilteredItems(filtered);
                }
            }, [isOpen, allItems, currentCategory]);
            if (!isOpen) return null;
            const handleDragStart = (e, index) => { setDraggedItem(index); e.dataTransfer.effectAllowed = "move"; e.target.style.opacity = '0.5'; };
            const handleDragEnd = (e) => { e.target.style.opacity = '1'; setDraggedItem(null); };
            const handleDragOver = (e) => { e.preventDefault(); };
            const handleDrop = (e, dropIndex) => {
                e.preventDefault();
                if (draggedItem === null || draggedItem === dropIndex) return;
                const newFiltered = [...filteredItems];
                const [movedItem] = newFiltered.splice(draggedItem, 1);
                newFiltered.splice(dropIndex, 0, movedItem);
                setFilteredItems(newFiltered);
                const newAllItems = [...allItems];
                let filterIdx = 0;
                for (let i = 0; i < newAllItems.length; i++) {
                    const item = newAllItems[i];
                    if (currentCategory === 'all' || item.type === currentCategory) { newAllItems[i] = newFiltered[filterIdx]; filterIdx++; }
                }
                onReorder(newAllItems);
            };
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-black/95 backdrop-blur-md" onClick={onClose}></div>
                    <div className="relative z-[110] w-full h-[90vh] max-w-7xl flex flex-col bg-[#0c0c0c] border border-amber-900/30 rounded-xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200">
                        <div className="flex justify-between items-center p-6 border-b border-white/10 bg-black/40">
                            <h2 className="text-xl md:text-2xl text-white font-trendy flex items-center gap-3"><Maximize size={24} className="text-amber-500"/> 갤러리 순서 변경 모드</h2>
                            <button onClick={onClose} className="bg-amber-700 hover:bg-amber-600 text-white px-6 py-2 rounded font-bold transition-colors shadow-lg active:scale-95">수정 완료</button>
                        </div>
                        <div className="flex-1 overflow-y-auto p-4 md:p-8 bg-[#0a0a0a]">
                            <div className="bg-blue-900/20 text-blue-200 p-4 mb-4 rounded text-center text-xs md:text-sm md:hidden">ⓘ 모바일에서는 드래그가 어렵습니다. 목록형 순서 변경을 이용해주세요.</div>
                            <div className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6">
                                {filteredItems.map((item, index) => (
                                    <div key={item.id} draggable onDragStart={(e) => handleDragStart(e, index)} onDragEnd={handleDragEnd} onDragOver={handleDragOver} onDrop={(e) => handleDrop(e, index)} className="relative aspect-[4/5] bg-black border border-white/10 rounded overflow-hidden cursor-move hover:border-amber-500 transition-colors group shadow-lg">
                                        <img src={item.thumbnail || item.url} className="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity pointer-events-none" />
                                        <div className="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2 pointer-events-none"><GripVertical size={32} className="text-white"/><span className="text-white text-xs font-bold uppercase tracking-wider hidden md:block">드래그하여 이동</span></div>
                                        <div className="absolute bottom-0 left-0 right-0 p-2 bg-black/80 pointer-events-none"><p className="text-white text-xs truncate text-center">{item.title}</p></div>
                                        <div className="absolute top-2 left-2 bg-amber-600 text-white text-[10px] font-bold px-2 py-0.5 rounded pointer-events-none">{index + 1}</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const GalleryGrid = ({ items, isAdmin, onDelete, onEdit, onItemClick, onMove }) => {
            if (items.length === 0) return (
                <div className="text-center py-32 text-gray-600 font-trendy uppercase tracking-widest animate-pulse"><p>Collection Empty</p></div>
            );
            return (
                <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 pb-safe animate-enter">
                    {items.map((item) => (
                        <div key={item.id} onClick={() => onItemClick(item)} className="group relative cursor-pointer active:scale-[0.98] transition-transform">
                            <div className="aspect-[4/5] overflow-hidden bg-[#111] relative shadow-lg hover:-translate-y-2 transition-all duration-300 border border-white/5 rounded-sm">
                                <div className="w-full h-full relative">
                                    <img src={item.type === 'video' && item.thumbnail ? item.thumbnail : item.url} alt={item.title} className="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105 opacity-80 group-hover:opacity-100 grayscale-[30%] group-hover:grayscale-0" loading="lazy"/>
                                    <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 transition-opacity duration-500" />
                                    {item.type === 'video' && (
                                        <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
                                            <div className="w-12 h-12 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center border border-white/20 group-hover:scale-110 transition-transform duration-300 shadow-xl"><Play size={20} className="text-white ml-1 fill-white" /></div>
                                        </div>
                                    )}
                                </div>
                                <div className="absolute bottom-0 left-0 right-0 p-6 transform transition-transform duration-500">
                                    <div className="flex items-center justify-between mb-2">
                                        <span className="text-amber-500 text-[10px] font-gothic font-bold tracking-widest uppercase border border-amber-500/30 px-2 py-1">{item.subCategory || (item.type === 'video' ? 'Video' : 'Image')}</span>
                                    </div>
                                    <h3 className="text-xl text-white font-gothic font-bold mb-1 leading-tight group-hover:text-amber-400 transition-colors tracking-tight break-keep">{item.title}</h3>
                                    <p className="text-gray-400 text-xs line-clamp-1 group-hover:text-gray-300 transition-colors font-gothic font-semibold">{item.description}</p>
                                </div>
                            </div>
                            {isAdmin && (
                                <div className="absolute top-2 left-2 right-2 flex justify-between z-20 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-300">
                                    <div className="flex gap-1">
                                        <button onClick={(e) => { e.stopPropagation(); onMove(item.id, 'prev'); }} className="bg-black/60 hover:bg-amber-600 text-white p-2 rounded backdrop-blur-md transition-colors shadow-lg border border-white/10"><ChevronLeft size={16} /></button>
                                        <button onClick={(e) => { e.stopPropagation(); onMove(item.id, 'next'); }} className="bg-black/60 hover:bg-amber-600 text-white p-2 rounded backdrop-blur-md transition-colors shadow-lg border border-white/10"><ChevronRight size={16} /></button>
                                    </div>
                                    <div className="flex gap-1">
                                        <button onClick={(e) => { e.stopPropagation(); onEdit(item); }} className="bg-blue-600/80 hover:bg-blue-600 text-white p-2 rounded backdrop-blur-md transition-colors shadow-lg border border-white/10"><Edit2 size={16} /></button>
                                        <button onClick={(e) => { e.stopPropagation(); onDelete(e, item.id); }} className="bg-red-600/80 hover:bg-red-600 text-white p-2 rounded backdrop-blur-md transition-colors shadow-lg border border-white/10"><Trash2 size={16} /></button>
                                    </div>
                                </div>
                            )}
                        </div>
                    ))}
                </div>
            );
        };

        const AdminPanel = ({ isOpen, onClose, onSaveItem, onLogout, allItems, editingItem, onDownload, onOpenReorder, currentCategory }) => {
            const [activeTab, setActiveTab] = useState('edit'); 
            const [itemData, setItemData] = useState({ type: 'image', url: '', referenceUrl: '', title: '', description: '', date: new Date().toLocaleDateString(), subCategory: '기타' });
            const [previewUrl, setPreviewUrl] = useState('');
            const [isProcessing, setIsProcessing] = useState(false);
            const userDriveFolder = "https://drive.google.com/drive/folders/1_Cb8v99dAXDfNanUxXX0PlLMvZTonVkN";

            const filteredItems = currentCategory === 'all' ? allItems : allItems.filter(i => i.type === currentCategory);

            useEffect(() => {
                if (editingItem) {
                    setItemData({...editingItem, subCategory: editingItem.subCategory || '기타'});
                    setActiveTab('edit');
                    if (editingItem.url.includes('drive.google.com')) setPreviewUrl(convertGoogleDriveLink(editingItem.url));
                    else if (editingItem.type === 'video' && getYouTubeId(editingItem.url)) setPreviewUrl(`https://img.youtube.com/vi/${getYouTubeId(editingItem.url)}/maxresdefault.jpg`);
                    else setPreviewUrl(editingItem.url);
                } else {
                    setItemData({ type: 'image', url: '', referenceUrl: '', title: '', description: '', date: new Date().toLocaleDateString(), subCategory: '기타' });
                    setPreviewUrl('');
                }
            }, [editingItem, isOpen]);

            if (!isOpen) return null;

            const handleUrlChange = (e) => {
                const rawUrl = e.target.value;
                let type = itemData.type;
                let preview = '';
                if (rawUrl.includes('youtube') || rawUrl.includes('youtu.be')) type = 'video';
                if (rawUrl.includes('drive.google.com')) preview = convertGoogleDriveLink(rawUrl);
                else if (rawUrl.includes('youtube') || rawUrl.includes('youtu.be')) {
                    const vidId = getYouTubeId(rawUrl);
                    if (vidId) preview = `https://img.youtube.com/vi/${vidId}/maxresdefault.jpg`;
                } else preview = rawUrl;
                setPreviewUrl(preview);
                setItemData({ ...itemData, url: rawUrl, type: type });
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                setIsProcessing(true);
                setTimeout(() => {
                    let finalItem = { ...itemData };
                    if (!finalItem.id) finalItem.id = Date.now();
                    if (finalItem.url.includes('drive.google.com')) {
                        const converted = convertGoogleDriveLink(finalItem.url);
                        finalItem.thumbnail = converted;
                        if (finalItem.type !== 'video') finalItem.url = converted;
                    } else if (finalItem.type === 'video') {
                        const vidId = getYouTubeId(finalItem.url);
                        if (vidId) finalItem.thumbnail = `https://img.youtube.com/vi/${vidId}/maxresdefault.jpg`;
                    }
                    if (finalItem.referenceUrl && finalItem.referenceUrl.includes('drive.google.com')) {
                        finalItem.referenceUrl = convertGoogleDriveLink(finalItem.referenceUrl);
                    }
                    onSaveItem(finalItem);
                    setIsProcessing(false);
                    alert("✅ 변경사항이 임시 저장되었습니다.\n완전히 반영하려면 하단의 '구글 드라이브 덮어쓰기' 버튼을 꼭 눌러주세요!");
                }, 500);
            };

            const availableSubCategories = SUB_CATEGORIES[itemData.type]?.filter(c => c !== '전체보기') || [];

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-4">
                    <div className="absolute inset-0 bg-black/80 backdrop-blur-md" onClick={onClose}></div>
                    <div className="relative w-full h-full md:h-auto md:max-w-2xl glass-panel md:rounded-xl flex flex-col max-h-[100vh] md:max-h-[90vh] shadow-2xl border-0 md:border border-amber-900/30">
                        <div className="p-4 md:p-6 border-b border-white/10 flex justify-between items-center bg-black/40 pt-safe-top">
                            <h2 className="text-lg md:text-xl text-white font-trendy flex items-center gap-2"><Lock size={18} className="text-amber-500"/> 관리자 대시보드</h2>
                            <button onClick={onClose} className="text-gray-400 hover:text-white p-2"><XIcon size={24} /></button>
                        </div>
                        <div className="flex border-b border-white/10 bg-black/20">
                            <button onClick={() => setActiveTab('edit')} className={`flex-1 py-4 text-xs md:text-sm font-bold tracking-widest uppercase transition-colors ${activeTab === 'edit' ? 'bg-amber-600/20 text-amber-500 border-b-2 border-amber-500' : 'text-gray-500 hover:text-gray-300'}`}> {editingItem ? '수정' : '추가'} </button>
                            <button onClick={() => setActiveTab('order')} className={`flex-1 py-4 text-xs md:text-sm font-bold tracking-widest uppercase transition-colors ${activeTab === 'order' ? 'bg-amber-600/20 text-amber-500 border-b-2 border-amber-500' : 'text-gray-500 hover:text-gray-300'}`}> 순서 관리 </button>
                        </div>
                        <div className="flex-1 overflow-y-auto p-4 md:p-6 bg-[#0c0c0c] pb-32 md:pb-6">
                            {activeTab === 'edit' ? (
                                <div className="space-y-6">
                                     <div className="mb-4 p-3 bg-blue-900/10 border border-blue-500/30 rounded flex items-center justify-between">
                                        <div className="text-sm text-blue-100">
                                            <span className="font-bold block mb-1">구글 드라이브</span>
                                            <span className="text-xs text-gray-400">미디어 업로드 및 링크 복사</span>
                                        </div>
                                        <a href={userDriveFolder} target="_blank" rel="noreferrer" className="bg-blue-600 hover:bg-blue-500 text-white p-2 rounded-full transition-colors flex items-center justify-center shadow-lg active:scale-95"><Plus size={18} /></a>
                                    </div>
                                    <form onSubmit={handleSubmit} className="space-y-4">
                                        <div>
                                            <label className="block text-[10px] text-amber-500/70 uppercase tracking-widest mb-1 font-bold">메인 미디어 링크</label>
                                            <input type="text" required placeholder="링크 (Drive / YouTube)" value={itemData.url} onChange={handleUrlChange} className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:outline-none focus:border-amber-500 transition-colors text-sm appearance-none" />
                                            {previewUrl && (<div className="mt-3 w-32 bg-black/50 rounded border border-white/10 overflow-hidden relative"><div className="aspect-video w-full flex items-center justify-center"><img src={previewUrl} alt="Preview" className="h-full w-full object-cover" onError={(e) => {e.target.style.display='none'}} /></div></div>)}
                                        </div>
                                        <div className="grid grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold">분류 (대분류)</label>
                                                <div className="relative">
                                                    <select value={itemData.type} onChange={(e) => setItemData({...itemData, type: e.target.value, subCategory: SUB_CATEGORIES[e.target.value][1]})} className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:outline-none focus:border-amber-500 text-sm appearance-none">
                                                        <option value="image">이미지 (Image & GIF)</option>
                                                        <option value="video">비디오 (Video)</option>
                                                    </select>
                                                    <div className="absolute right-3 top-3 pointer-events-none text-gray-500"><ArrowDown size={14}/></div>
                                                </div>
                                            </div>
                                            <div>
                                                <label className="block text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold">속성 (소분류)</label>
                                                <div className="relative">
                                                    <select value={itemData.subCategory} onChange={(e) => setItemData({...itemData, subCategory: e.target.value})} className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:outline-none focus:border-amber-500 text-sm appearance-none">
                                                        {availableSubCategories.map(cat => (
                                                            <option key={cat} value={cat}>{cat}</option>
                                                        ))}
                                                    </select>
                                                    <div className="absolute right-3 top-3 pointer-events-none text-gray-500"><ArrowDown size={14}/></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <label className="block text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold">제목</label>
                                            <input type="text" required value={itemData.title} onChange={(e) => setItemData({...itemData, title: e.target.value})} className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:outline-none focus:border-amber-500 text-sm font-gothic font-bold appearance-none" />
                                        </div>
                                        <div>
                                            <label className="block text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold">설명</label>
                                            <textarea rows="4" required value={itemData.description} onChange={(e) => setItemData({...itemData, description: e.target.value})} className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:outline-none focus:border-amber-500 resize-none text-sm font-gothic appearance-none" />
                                        </div>
                                        <button type="submit" disabled={isProcessing} className="w-full bg-amber-700 hover:bg-amber-600 text-white font-bold py-4 rounded transition-colors flex justify-center items-center gap-2 text-sm uppercase tracking-wider mt-4 shadow-lg active:scale-98">
                                            {isProcessing ? <Loader className="animate-spin" size={18} /> : (editingItem ? <Edit2 size={18}/> : <Plus size={18} />)} 
                                            {editingItem ? '수정 완료' : '갤러리에 추가'}
                                        </button>
                                    </form>
                                </div>
                            ) : (
                                <div className="h-full flex flex-col">
                                    <div className="mb-4 flex justify-between items-center bg-white/5 p-4 rounded-lg">
                                         <div><h3 className="font-bold text-white text-sm">순서 편집</h3><p className="text-xs text-gray-400">목록을 드래그하여 순서를 바꿉니다.</p></div>
                                         <button onClick={onOpenReorder} className="bg-amber-700 hover:bg-amber-600 text-white px-4 py-2 rounded text-xs font-bold shadow-lg flex items-center gap-2 active:scale-95"><Maximize size={14}/> 전체 화면 (PC 추천)</button>
                                    </div>
                                    <div className="space-y-2">
                                        <p className="text-xs text-gray-500 mb-2 font-trendy text-center">현재 카테고리 항목 ({filteredItems.length})</p>
                                        {filteredItems.map((item, index) => (
                                            <div key={item.id} className="flex items-center justify-between bg-white/5 p-3 rounded border border-white/5">
                                                <div className="flex items-center gap-3 overflow-hidden pointer-events-none">
                                                    <div className="w-10 h-10 bg-black rounded overflow-hidden flex-shrink-0"><img src={item.thumbnail || item.url} className="w-full h-full object-cover" /></div>
                                                    <div className="min-w-0"><p className="text-white text-sm font-gothic font-bold truncate">{item.title}</p><p className="text-xs text-gray-500 uppercase tracking-wider">{item.subCategory || item.type}</p></div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>
                        <div className="p-4 bg-black/80 border-t border-white/10 flex gap-3 absolute bottom-0 left-0 right-0 md:relative pb-safe">
                            <button onClick={onDownload} className="flex-1 py-3 bg-green-700/80 hover:bg-green-600 text-white rounded font-trendy text-xs transition-colors shadow-lg flex items-center justify-center gap-2 uppercase tracking-widest border border-green-500/20 active:scale-95"><UploadCloud size={16}/> 구글 드라이브 덮어쓰기 (저장)</button>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            // [Data Initialization] Auto-tagging logic based on title
            const initializeData = (data) => {
                return data.map(item => {
                    if (item.subCategory) return item; // Already tagged
                    
                    const title = (item.title || '').toLowerCase().replace(/\s+/g, '');
                    let category = '기타';
                    
                    if (item.type === 'video') {
                        if (title.includes('기획영상') || title.includes('기획')) category = '기획영상';
                        else if (title.includes('편집영상') || title.includes('편집')) category = '편집영상';
                        else if (title.includes('ai') || title.includes('에이아이')) category = 'AI영상';
                        else if (title.includes('모션') || title.includes('그래픽')) category = '모션그래픽';
                    } else {
                        if (title.includes('상세페이지')) category = '상세페이지';
                        else if (title.includes('썸네일')) category = '썸네일';
                        else if (title.includes('sns')) category = 'SNS콘텐츠';
                        else if (title.includes('gif') || title.includes('움짤')) category = '상세페이지'; // GIF usually part of detail
                    }
                    return { ...item, subCategory: category };
                });
            };

            const [items, setItems] = useState(initializeData(INITIAL_DATA));
            const [selectedItem, setSelectedItem] = useState(null);
            const [editingItem, setEditingItem] = useState(null);
            const [isAdmin, setIsAdmin] = useState(false);
            const [showLogin, setShowLogin] = useState(false);
            const [showAdminPanel, setShowAdminPanel] = useState(false);
            const [showReorderModal, setShowReorderModal] = useState(false); 
            const [password, setPassword] = useState('');
            const [category, setCategory] = useState('all'); 
            const [subCategoryFilter, setSubCategoryFilter] = useState('전체보기');
            
            // REMOVED: observerRef usage for reveal-on-scroll

            // [Sorting Logic]
            const getSortedItems = (data) => {
                return [...data].sort((a, b) => {
                    const titleA_Clean = (a.title || '').toLowerCase().replace(/\s+/g, '');
                    const titleB_Clean = (b.title || '').toLowerCase().replace(/\s+/g, '');
                    const titleA_Raw = (a.title || '').toLowerCase();
                    const titleB_Raw = (b.title || '').toLowerCase();

                    const isPriorityZero = (t) => t.includes('기획영상') || t.includes('편집영상');
                    const p0A = isPriorityZero(titleA_Clean);
                    const p0B = isPriorityZero(titleB_Clean);
                    
                    if (p0A && !p0B) return -1;
                    if (!p0A && p0B) return 1;
                    if (p0A && p0B) return 0;

                    const isPriorityOne = (t) => t.includes('ai');
                    const p1A = isPriorityOne(titleA_Raw);
                    const p1B = isPriorityOne(titleB_Raw);
                    
                    if (p1A && !p1B) return -1;
                    if (!p1A && p1B) return 1;

                    return 0;
                });
            };
            
            // Sort items initially and when items change
            const sortedItems = useMemo(() => getSortedItems(items), [items]);

            // REMOVED: IntersectionObserver useEffect

            const handleLogin = (e) => {
                e.preventDefault();
                if (password === 'jjongkim0922') {
                    setIsAdmin(true); setShowLogin(false); setPassword(''); alert("환영합니다, 관리자님.");
                } else { alert("접근이 거부되었습니다."); }
            };

            const handleSaveItem = (itemToSave, skipClose = false) => {
                const existingIndex = items.findIndex(i => i.id === itemToSave.id);
                let updatedItems;
                if (existingIndex > -1) { updatedItems = [...items]; updatedItems[existingIndex] = itemToSave; } 
                else { updatedItems = [itemToSave, ...items]; }
                setItems(updatedItems);
                if(!skipClose) setEditingItem(null); 
            };

            const handleReorder = (newOrder) => { setItems(newOrder); };
            const handleEditClick = (item) => { setEditingItem(item); setShowAdminPanel(true); };
            const handleDeleteItem = (e, id) => { if (window.confirm("정말로 이 항목을 컬렉션에서 영구 삭제하시겠습니까?")) { setItems(items.filter(item => item.id !== id)); } };

            const filteredItems = sortedItems.filter(item => {
                if (category === 'all') return true;
                if (item.type !== category) return false;
                if (subCategoryFilter === '전체보기') return true;
                return item.subCategory === subCategoryFilter;
            });

            const handleMoveItem = (itemId, direction) => {
                const currentList = [...filteredItems];
                const currentIndex = currentList.findIndex(item => item.id === itemId);
                if (currentIndex === -1) return;
                let targetIndex = -1;
                if (direction === 'prev' && currentIndex > 0) targetIndex = currentIndex - 1;
                if (direction === 'next' && currentIndex < currentList.length - 1) targetIndex = currentIndex + 1;
                if (targetIndex === -1) return;
                const itemA = currentList[currentIndex];
                const itemB = currentList[targetIndex];
                const newItems = [...items];
                const indexA = newItems.findIndex(i => i.id === itemA.id);
                const indexB = newItems.findIndex(i => i.id === itemB.id);
                [newItems[indexA], newItems[indexB]] = [newItems[indexB], newItems[indexA]];
                setItems(newItems);
            };

            const downloadPortfolio = () => {
                const currentDataString = JSON.stringify(items, null, 2);
                let htmlContent = document.documentElement.outerHTML;
                const regex = /(\/\*__DATA_START__\*\/)([\s\S]*?)(\/\*__DATA_END__\*\/)/;
                if (!regex.test(htmlContent)) { alert("시스템 오류: 원본 코드의 데이터 마커를 찾을 수 없어 저장에 실패했습니다."); return; }
                htmlContent = htmlContent.replace(regex, (match, startMarker, oldContent, endMarker) => { return `${startMarker}${currentDataString}${endMarker}`; });
                htmlContent = htmlContent.replace(/<div id="root">[\s\S]*?<\/div>/, '<div id="root"></div>');
                if (!htmlContent.trim().toLowerCase().startsWith('<!doctype html>')) { htmlContent = '<!DOCTYPE html>\n' + htmlContent; }
                const filename = `최적화_포트폴리오_김민종.html`;
                const userDriveFolder = "https://drive.google.com/drive/folders/1_Cb8v99dAXDfNanUxXX0PlLMvZTonVkN";
                if (window.confirm(`[자동 저장 시스템]\n\n1. 파일이 다운로드됩니다.\n2. 구글 드라이브 폴더가 자동으로 열립니다.\n3. 열린 구글 드라이브 화면에 다운로드된 파일을 드래그해서 놓아주세요.\n\n진행하시겠습니까?`)) {
                    try {
                        const blob = new Blob([htmlContent], { type: 'text/html' });
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a'); a.href = url; a.download = filename; document.body.appendChild(a); a.click();
                        setTimeout(() => { document.body.removeChild(a); URL.revokeObjectURL(url); }, 100);
                        setTimeout(() => { window.open(userDriveFolder, '_blank'); }, 1500);
                    } catch (err) { console.error(err); alert("파일 저장 중 오류가 발생했습니다."); }
                }
            };

            return (
                <div className="min-h-screen bg-[#050505] text-white selection:bg-amber-500/30 font-sans">
                    <Hero />

                    <div className="sticky top-0 z-30 bg-[#050505]/90 backdrop-blur-md border-b border-white/5 py-2 pt-safe-top">
                        <div className="flex flex-col items-center gap-2">
                            {/* Main Tabs */}
                            <div className="flex justify-center gap-6 md:gap-12 px-4 overflow-x-auto hide-scrollbar w-full">
                                {['all', 'video', 'image'].map((cat) => (
                                    <button 
                                        key={cat}
                                        onClick={() => { setCategory(cat); setSubCategoryFilter('전체보기'); }}
                                        className={`relative py-3 text-xs md:text-sm font-trendy tracking-[0.2em] uppercase transition-colors duration-300 whitespace-nowrap flex-shrink-0 ${category === cat ? 'text-amber-500 font-bold' : 'text-gray-500 hover:text-gray-300'}`}
                                    >
                                        {cat === 'image' ? 'Image & GIF' : cat}
                                        {category === cat && <span className="absolute -bottom-0 left-0 w-full h-[2px] bg-amber-500 tab-indicator"></span>}
                                    </button>
                                ))}
                            </div>
                            
                            {/* Sub Filter Buttons (Visible only when specific category selected) */}
                            {category !== 'all' && (
                                <div className="flex gap-2 px-4 pb-2 overflow-x-auto hide-scrollbar w-full justify-center animate-in slide-in-from-top-2 fade-in duration-300">
                                    {SUB_CATEGORIES[category].map((subCat) => (
                                        <button
                                            key={subCat}
                                            onClick={() => setSubCategoryFilter(subCat)}
                                            className={`px-4 py-1.5 rounded-full text-[10px] md:text-xs font-gothic transition-all whitespace-nowrap border ${subCategoryFilter === subCat ? 'bg-amber-900/40 border-amber-500 text-amber-500 font-bold' : 'bg-white/5 border-white/10 text-gray-400 hover:bg-white/10 hover:text-gray-200'}`}
                                        >
                                            {subCat}
                                        </button>
                                    ))}
                                </div>
                            )}
                        </div>
                    </div>

                    <div className="max-w-[1920px] mx-auto px-4 sm:px-8 py-12 md:py-16 min-h-[50vh]">
                        <GalleryGrid 
                            items={filteredItems} 
                            isAdmin={isAdmin} 
                            onDelete={handleDeleteItem} 
                            onEdit={handleEditClick} 
                            onItemClick={setSelectedItem} 
                            onMove={handleMoveItem}
                        />
                    </div>

                    <footer className="py-24 bg-[#0a0a0a] border-t border-white/5 text-center px-4 mt-20 pb-safe">
                        <h3 className="font-luxury italic text-2xl mb-4 text-white/80">MinJong's Gallery</h3>
                        <p className="text-gray-600 text-xs font-trendy tracking-widest uppercase opacity-50">© {new Date().getFullYear()} Designed with Absolute Precision.</p>
                    </footer>
                    
                    <Modal item={selectedItem} onClose={() => setSelectedItem(null)} />

                    <AdminPanel 
                        isOpen={showAdminPanel} 
                        onClose={() => setShowAdminPanel(false)} 
                        onSaveItem={handleSaveItem} 
                        onLogout={() => {setIsAdmin(false); setShowAdminPanel(false);}}
                        allItems={items}
                        editingItem={editingItem}
                        onDownload={downloadPortfolio}
                        onOpenReorder={() => setShowReorderModal(true)}
                        onReorder={handleReorder}
                        currentCategory={category}
                    />

                    <ReorderModal 
                        isOpen={showReorderModal}
                        onClose={() => setShowReorderModal(false)}
                        allItems={items}
                        onReorder={handleReorder}
                        onSave={downloadPortfolio} 
                        currentCategory={category}
                    />

                    {isAdmin ? (
                        <div className="fixed bottom-8 right-8 z-40 flex flex-col gap-4 animate-in fade-in slide-in-from-bottom-4 mb-safe-bottom">
                            <button onClick={() => { setEditingItem(null); setShowAdminPanel(true); }} className="bg-amber-700 text-white p-4 rounded-full shadow-lg hover:bg-amber-600 hover:scale-110 transition-all duration-300 group border border-white/10" title="Admin Dashboard"><Plus size={24} /></button>
                            <button onClick={downloadPortfolio} className="bg-green-700 text-white p-3 rounded-full shadow-lg border border-white/10 flex items-center justify-center hover:bg-green-600 transition-all" title="Save to Drive"><UploadCloud size={16} /></button>
                            <button onClick={() => { setIsAdmin(false); setShowAdminPanel(false); alert("로그아웃 되었습니다."); }} className="bg-red-900/80 text-white p-3 rounded-full shadow-lg border border-red-500/30 flex items-center justify-center hover:bg-red-700 transition-all" title="Logout"><LogOut size={16} /></button>
                        </div>
                    ) : (
                        <button onClick={() => setShowLogin(true)} className="fixed bottom-4 right-4 z-40 text-[#222] hover:text-amber-500 transition-colors duration-500 opacity-50 hover:opacity-100 p-2 mb-safe-bottom"><Lock size={16} /></button>
                    )}

                    {showLogin && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
                            <div className="absolute inset-0 bg-black/90 backdrop-blur-sm" onClick={() => setShowLogin(false)}></div>
                            <div className="relative bg-[#0c0c0c] p-8 md:p-10 border border-amber-900/20 shadow-2xl w-full max-w-sm animate-in zoom-in-95 duration-200 rounded-lg">
                                <h3 className="text-center text-amber-500 font-trendy text-xl mb-8 uppercase tracking-widest">Curator Access</h3>
                                <form onSubmit={handleLogin}>
                                    <input type="password" value={password} onChange={(e) => setPassword(e.target.value)} className="w-full bg-black border border-gray-800 rounded p-4 text-white text-center tracking-[0.5em] font-bold focus:border-amber-500 outline-none mb-6 text-xl placeholder-gray-800 appearance-none" placeholder="••••" autoFocus />
                                    <button type="submit" className="w-full bg-amber-800 hover:bg-amber-700 text-white py-3 rounded font-trendy text-sm transition-colors uppercase tracking-widest shadow-lg active:scale-95">Unlock Gallery</button>
                                </form>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
